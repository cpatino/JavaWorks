package co.com.carp.petcity.dao;

import java.util.List;

import javax.persistence.Query;

import com.mysql.jdbc.StringUtils;

import co.com.carp.petcity.jpa.entity.Owner;

public class OwnerDAO extends GenericDAO {

	@SuppressWarnings({ "unchecked", "null" })
	public List<Owner> findOwnerForFilter(String filter) {
		String strWhere = "";		
		if (!filter.isEmpty()) {
			strWhere = " where o.documentId like '%:filter%'  or o.name like '%:filter%'";
		}

		Query query = em.createNativeQuery("SELECT o FROM Owner o" + strWhere);
		query.setParameter("filter", filter.toLowerCase());
				
		return (List<Owner>)query.getResultList();
	}

}
